<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>


<a href="https://agromatica.onrender.com/consultas/2023-10-10">pdf</a>




<body>
  <button onclick="ver()">
    xd
  </button>

  <button onclick="pdf()">
    pdf
  </button>
  <script>
    function ver(){
      const data = {
        "fecha":    '2020-10-18',
        "senHumedadAgua": '10',
        "senHumedadAire": '10',
        "senPh":          '10',
        "senCalidadAire": '10'
    };

    fetch('https://agromatica.onrender.com/saveData', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(data),
    })
      .then(response => response.json())
      .then(responseData => {
        console.log(responseData);
      })
      .catch(error => {
        console.error('Error:', error);
      });
    } 


  function pdf(){
    const fecha = "2023-10-10"; // La fecha que deseas consultar
    // http://127.0.0.1:8000/
    // https://agromatica.onrender.com
    fetch(`https://agromatica.onrender.com/consultas/${fecha}`)
      .then(response => response.blob())
      .then(blob => {
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = `consulta_${fecha}.pdf`;
        a.click();
        URL.revokeObjectURL(url);
      })
      .catch(error => {
        console.error("Error al obtener el archivo PDF:", error);
      });
  }  
  </script>
</body>
</html>